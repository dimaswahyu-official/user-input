{"ast":null,"code":"import { useContext, useLayoutEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"../components/UI/Button\";\nimport IconButton from \"../components/UI/IconButton\";\nimport { GlobalStyles } from \"../constants/styles\";\nimport { ExpensesContext } from \"../store/expenses-context\";\nimport ExpenseForm from \"../components/ManagaExpanse/ExpenseForm\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction ManageExpense(_ref) {\n  var _route$params;\n  var route = _ref.route,\n    navigation = _ref.navigation;\n  var expensesCtx = useContext(ExpensesContext);\n  var editedExpenseId = (_route$params = route.params) == null ? void 0 : _route$params.expenseId;\n  var isEditing = !!editedExpenseId;\n  useLayoutEffect(function () {\n    navigation.setOptions({\n      title: isEditing ? 'Edit Expense' : 'Add Expense'\n    });\n  }, [navigation, isEditing]);\n  function deleteExpenseHandler() {\n    expensesCtx.deleteExpense(editedExpenseId);\n    navigation.goBack();\n  }\n  function cancelHandler() {\n    navigation.goBack();\n  }\n  function confirmHandler() {\n    if (isEditing) {\n      expensesCtx.updateExpense(editedExpenseId, {\n        description: 'Test!!!!',\n        amount: 29.99,\n        date: new Date('2022-05-20')\n      });\n    } else {\n      expensesCtx.addExpense({\n        description: 'Test',\n        amount: 19.99,\n        date: new Date('2022-05-19')\n      });\n    }\n    navigation.goBack();\n  }\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(ExpenseForm, {}), _jsxs(View, {\n      style: styles.buttons,\n      children: [_jsx(Button, {\n        style: styles.button,\n        mode: \"flat\",\n        onPress: cancelHandler,\n        children: \"Cancel\"\n      }), _jsx(Button, {\n        style: styles.button,\n        onPress: confirmHandler,\n        children: isEditing ? 'Update' : 'Add'\n      })]\n    }), isEditing && _jsx(View, {\n      style: styles.deleteContainer,\n      children: _jsx(IconButton, {\n        icon: \"trash\",\n        color: GlobalStyles.colors.error500,\n        size: 36,\n        onPress: deleteExpenseHandler\n      })\n    })]\n  });\n}\nexport default ManageExpense;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 24,\n    backgroundColor: GlobalStyles.colors.primary800\n  },\n  buttons: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  button: {\n    minWidth: 120,\n    marginHorizontal: 8\n  },\n  deleteContainer: {\n    marginTop: 16,\n    paddingTop: 8,\n    borderTopWidth: 2,\n    borderTopColor: GlobalStyles.colors.primary200,\n    alignItems: 'center'\n  }\n});","map":{"version":3,"names":["useContext","useLayoutEffect","StyleSheet","View","Button","IconButton","GlobalStyles","ExpensesContext","ExpenseForm","jsx","_jsx","jsxs","_jsxs","ManageExpense","_ref","_route$params","route","navigation","expensesCtx","editedExpenseId","params","expenseId","isEditing","setOptions","title","deleteExpenseHandler","deleteExpense","goBack","cancelHandler","confirmHandler","updateExpense","description","amount","date","Date","addExpense","style","styles","container","children","buttons","button","mode","onPress","deleteContainer","icon","color","colors","error500","size","create","flex","padding","backgroundColor","primary800","flexDirection","justifyContent","alignItems","minWidth","marginHorizontal","marginTop","paddingTop","borderTopWidth","borderTopColor","primary200"],"sources":["/Users/dimaswahyuutomo/Documents/personal/Course/ReactNative/user-input/screens/ManageExpense.js"],"sourcesContent":["import { useContext, useLayoutEffect } from 'react';\nimport { StyleSheet, View } from 'react-native';\n\nimport Button from '../components/UI/Button';\nimport IconButton from '../components/UI/IconButton';\nimport { GlobalStyles } from '../constants/styles';\nimport { ExpensesContext } from '../store/expenses-context';\nimport ExpenseForm from '../components/ManagaExpanse/ExpenseForm';\n\nfunction ManageExpense({ route, navigation }) {\n  const expensesCtx = useContext(ExpensesContext);\n\n  const editedExpenseId = route.params?.expenseId;\n  const isEditing = !!editedExpenseId;\n\n  useLayoutEffect(() => {\n    navigation.setOptions({\n      title: isEditing ? 'Edit Expense' : 'Add Expense',\n    });\n  }, [navigation, isEditing]);\n\n  function deleteExpenseHandler() {\n    expensesCtx.deleteExpense(editedExpenseId);\n    navigation.goBack();\n  }\n\n  function cancelHandler() {\n    navigation.goBack();\n  }\n\n  function confirmHandler() {\n    if (isEditing) {\n      expensesCtx.updateExpense(\n        editedExpenseId,\n        {\n          description: 'Test!!!!',\n          amount: 29.99,\n          date: new Date('2022-05-20'),\n        }\n      );\n    } else {\n      expensesCtx.addExpense({\n        description: 'Test',\n        amount: 19.99,\n        date: new Date('2022-05-19'),\n      });\n    }\n    navigation.goBack();\n  }\n\n  return (\n    <View style={styles.container}>\n      <ExpenseForm />\n      <View style={styles.buttons}>\n        <Button style={styles.button} mode=\"flat\" onPress={cancelHandler}>\n          Cancel\n        </Button>\n        <Button style={styles.button} onPress={confirmHandler}>\n          {isEditing ? 'Update' : 'Add'}\n        </Button>\n      </View>\n      {isEditing && (\n        <View style={styles.deleteContainer}>\n          <IconButton\n            icon=\"trash\"\n            color={GlobalStyles.colors.error500}\n            size={36}\n            onPress={deleteExpenseHandler}\n          />\n        </View>\n      )}\n    </View>\n  );\n}\n\nexport default ManageExpense;\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 24,\n    backgroundColor: GlobalStyles.colors.primary800,\n  },\n  buttons: {\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  button: {\n    minWidth: 120,\n    marginHorizontal: 8,\n  },\n  deleteContainer: {\n    marginTop: 16,\n    paddingTop: 8,\n    borderTopWidth: 2,\n    borderTopColor: GlobalStyles.colors.primary200,\n    alignItems: 'center',\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}